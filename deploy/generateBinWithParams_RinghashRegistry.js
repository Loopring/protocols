var Web3 = require('web3');
var web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));

const fs = require("fs");
const solc = require('solc')

let abi = '[{"constant":true,"inputs":[{"name":"ringSize","type":"uint256"},{"name":"vList","type":"uint8[]"},{"name":"rList","type":"bytes32[]"},{"name":"sList","type":"bytes32[]"}],"name":"calculateRinghash","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"ringhash","type":"bytes32"}],"name":"ringhashFound","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"blocksToLive","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"ringhash","type":"bytes32"},{"name":"ringminer","type":"address"}],"name":"canSubmit","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"ringSize","type":"uint256"},{"name":"ringminer","type":"address"},{"name":"vList","type":"uint8[]"},{"name":"rList","type":"bytes32[]"},{"name":"sList","type":"bytes32[]"}],"name":"submitRinghash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_blocksToLive","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_ringminer","type":"address"},{"indexed":true,"name":"_ringhash","type":"bytes32"}],"name":"RinghashSubmitted","type":"event"}]';

let binData = '6060604052341561000f57600080fd5b604051602080610755833981016040528080519150506000811161003257600080fd5b600055610711806100446000396000f300606060405263ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416633e8b2a1d8114610068578063b8ab45ca1461014e578063bfcf73e714610178578063c34b45c91461018b578063e62a0bc3146101ad57600080fd5b341561007357600080fd5b61013c60048035906044602480359081019083013580602081810201604051908101604052809392919081815260200183836020028082843782019150505050505091908035906020019082018035906020019080806020026020016040519081016040528093929190818152602001838360200280828437820191505050505050919080359060200190820180359060200190808060200260200160405190810160405280939291908181526020018383602002808284375094965061029295505050505050565b60405190815260200160405180910390f35b341561015957600080fd5b610164600435610358565b604051901515815260200160405180910390f35b341561018357600080fd5b61013c610375565b341561019657600080fd5b610164600435600160a060020a036024351661037b565b34156101b857600080fd5b610290600480359060248035600160a060020a03169190606490604435908101908301358060208082020160405190810160405280939291908181526020018383602002808284378201915050505050509190803590602001908201803590602001908080602002602001604051908101604052809392919081815260200183836020028082843782019150505050505091908035906020019082018035906020019080806020026020016040519081016040528093929190818152602001838360200280828437509496506103c895505050505050565b005b60006102f56001855103861480156102ad5750600184510386145b80156102bc5750600183510386145b60408051908101604052601181527f696e76616c69642072696e67206461746100000000000000000000000000000060208201526104c0565b610305848663ffffffff6104d416565b610315848763ffffffff61051f16565b610325848863ffffffff61051f16565b60405160ff9390931660f860020a0283526001830191909152602182015260410160405180910390209050949350505050565b600090815260016020526040902054600160a060020a0316151590565b60005481565b60008281526001602052604081208054600160a060020a031615806103a7575043600054826001015401105b806103be57508054600160a060020a038481169116145b91505b5092915050565b60006103d686858585610292565b905061041e6103e5828761037b565b60408051908101604052601281527f52696e6768617368207375626d6974746564000000000000000000000000000060208201526104c0565b604080519081016040908152600160a060020a03871682524360208084019190915260008481526001909152208151815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039190911617815560208201516001909101555080600160a060020a0386167f0b22b76abaee219a5a9b2868734f518eddecb8ae07762d6cd6621a022d7d5c5660405160405180910390a3505050505050565b8115156104d0576104d081610571565b5050565b600080836000815181106104e457fe5b906020019060200201519150600190505b828110156103c15783818151811061050957fe5b90602001906020020151909118906001016104f5565b6000808360008151811061052f57fe5b906020019060200201519150600190505b828110156103c1576105678285838151811061055857fe5b9060200190602002015161060e565b9150600101610540565b7f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa8160405160208082528190810183818151815260200191508051906020019080838360005b838110156105cf5780820151838201526020016105b7565b50505050905090810190601f1680156105fc5780820380516001836020036101000a031916815260200191505b509250505060405180910390a1600080fd5b60006106186106d3565b60006106226106d3565b60206040518059106106315750595b90808252806020026020018201604052509250600091505b60208210156106c25784826020811061065e57fe5b1a60f860020a02868360208110151561067357fe5b1a60f860020a021883838151811061068757fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600190910190610649565b508160208101519695505050505050565b602060405190810160405260008152905600a165627a7a72305820f271a14cb99b2180e10efa475ba7b9952c4b727a4b1597327cc70a8b7a9d60bf0029';

let MyContract = web3.eth.contract(JSON.parse(abi));
var binWithParam = MyContract.new.getData(100, { data: binData });
console.log(binWithParam);
