import { ethers } from "hardhat";

async function main() {
  const gasEstimator = await (
    await ethers.getContractFactory("GasEstimator")
  ).deploy();
  // const gasEstimator = await ethers.getContractAt("GasEstimator", '0x5f1d7fef3cc6cac6c575bde9b94147ae01776122');
  // 0x05c63d6a76e3b0e04b9e53810f8305ebc17832e9cd326cd0e0269387fd89353e add guardian
  // 117,327 129,434
  // const walletAddr = '0x177c065021aaCEc27A200D1a833522fb652fea97';
  // const metaTx = {
  // to: walletAddr,
  // nonce: 2699536939167,
  // gasToken: ethers.constants.AddressZero,
  // gasPrice: 0,
  // gasLimit: 240000,
  // gasOverhead: 80000,
  // feeRecipient: '0x0DFA9B2AB43B881430B6F52122618cC6B8F3a2c9',
  // requiresSuccess: false,
  // data: '0xa526d83b000000000000000000000000deb04a579baa257541d605309fbec2c2f1dd3ba4',
  // signature: "0x" + "00".repeat(66),
  // };
  // 0x2f7b309402cb2e2c71b9444d0bd3ed6d7d995ac13cc4eaa121cc36d54c92c910
  // 117,231, 94,835
  // const walletAddr = '0x41b7C996482D9c977474f79B8086767D54688fc6';
  // const metaTx = {
  // to: '0x41b7C996482D9c977474f79B8086767D54688fc6',
  // nonce: 2702353423807,
  // gasToken: ethers.constants.AddressZero,
  // gasPrice: 0,
  // gasLimit: 100000,
  // gasOverhead: 85000,
  // feeRecipient: '0x0DFA9B2AB43B881430B6F52122618cC6B8F3a2c9',
  // requiresSuccess: true,
  // data: '0xb9806d99000000000000000000000000ae404c050c3da571afefcff5b6a64af4515840000000000000000000000000006cb045c85b045dd2cabd2b318adb3382baef4ee2000000000000000000000000000000000000000000000000016345785d8a000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  // // signature: '0x5a831ed30cbf1fa97ba2c4e9bd3a638aa327240cc7c85d6077f65cf03e31c7f14dca0696dc55c7a8152e377ec89a3138b65be561f3c0ae2a47ebedbda2489b571c'
  // signature: "0x" + "00".repeat(66),
  // };
  // 0x1b2b1bc2661b0c57b7aa0d78cd48741649255492af30f93f35b5087586d40455
  // est: 149,701 act: 166,503
  // const walletAddr = '0x6Cb045c85b045Dd2caBd2B318adb3382baEf4eE2';
  // const metaTx = {
  // to: walletAddr,
  // nonce: 2701909583169,
  // gasToken: ethers.constants.AddressZero,
  // gasPrice: 0,
  // gasLimit: 440000,
  // gasOverhead: 85000,
  // feeRecipient: '0x0DFA9B2AB43B881430B6F52122618cC6B8F3a2c9',
  // requiresSuccess: false,
  // data: '0x2e9feb79000000000000000000000000c7ccb943782abc702c014efa9f99cf84fade6cb900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001247d54f2480000000000000000000000006cb045c85b045dd2cabd2b318adb3382baef4ee20000000000000000000000006cb045c85b045dd2cabd2b318adb3382baef4ee20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e5b6638bd2fa036d35b094b74ec7ff4fb4adb6a0b60c499d1f7dd34456902a0b8ac380b8fb8999a408ece8cc13c2b3886839b3e4000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000002307800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  // // signature: '0x5a831ed30cbf1fa97ba2c4e9bd3a638aa327240cc7c85d6077f65cf03e31c7f14dca0696dc55c7a8152e377ec89a3138b65be561f3c0ae2a47ebedbda2489b571c'
  // signature: "0x" + "00".repeat(66),
  // };
  // 0xc05ba6cd7c044c3b44085c027806d79f4456dbf31e9f6ffd4671ad826823cc96
  // est: 124,004 act: 112,881
  // const walletAddr = '0x9024d3A8A9AB38AA6a984233B94e0375E099d766';
  // const metaTx = {
  // to: walletAddr,
  // nonce: 2701909583169,
  // gasToken: ethers.constants.AddressZero,
  // gasPrice: 77387867,
  // gasLimit: 300000,
  // gasOverhead: 85000,
  // feeRecipient: '0x0DFA9B2AB43B881430B6F52122618cC6B8F3a2c9',
  // requiresSuccess: true,
  // data: '0xb9806d9900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000879a1cf4880e67d658687548ce46665497ff283000000000000000000000000000000000000000000000000000009184e72a00000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  // // signature: '0x5a831ed30cbf1fa97ba2c4e9bd3a638aa327240cc7c85d6077f65cf03e31c7f14dca0696dc55c7a8152e377ec89a3138b65be561f3c0ae2a47ebedbda2489b571c'
  // signature: "0x" + "00".repeat(66),
  // };
  // 0xbc0719a7586472dc8a47803253e8f8425c83366c92fa6d5097d28d3a0316f394
  // 124,004, 112,898
  // const walletAddr = '0x9024d3A8A9AB38AA6a984233B94e0375E099d766';
  // const metaTx = {
  // to: walletAddr,
  // nonce: 2701909583169,
  // gasToken: ethers.constants.AddressZero,
  // gasPrice: 77387868,
  // gasLimit: 300000,
  // gasOverhead: 85000,
  // feeRecipient: '0x0DFA9B2AB43B881430B6F52122618cC6B8F3a2c9',
  // requiresSuccess: true,
  // data: '0xb9806d9900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000879a1cf4880e67d658687548ce46665497ff283000000000000000000000000000000000000000000000000000009184e72a00000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  // // signature: '0x5a831ed30cbf1fa97ba2c4e9bd3a638aa327240cc7c85d6077f65cf03e31c7f14dca0696dc55c7a8152e377ec89a3138b65be561f3c0ae2a47ebedbda2489b571c'
  // signature: "0x" + "00".repeat(66),
  // };
  // 0xebe8b0cec094878b8b8951247478a8aae113359c9bd3ac034cbd9dbf928fd382
  // 165,670, 141,067
  // const walletAddr = '0x1FBd83f3299c947D1cEd5600cf0fd38EE7369E3A';
  // const metaTx = {
  // to: walletAddr,
  // nonce: 2701909583169,
  // gasToken: ethers.constants.AddressZero,
  // gasPrice: 0,
  // gasLimit: 1000000,
  // gasOverhead: 80000,
  // feeRecipient: '0x0DFA9B2AB43B881430B6F52122618cC6B8F3a2c9',
  // requiresSuccess: false,
  // data: '0x2e9feb79000000000000000000000000c7ccb943782abc702c014efa9f99cf84fade6cb90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044d59acd250000000000000000000000001fbd83f3299c947d1ced5600cf0fd38ee7369e3a676dfc4bf815e92720bb1dd8c0eeecbc8172f5e57cfc27a309a1b0458277322600000000000000000000000000000000000000000000000000000000',
  // // signature: '0x5a831ed30cbf1fa97ba2c4e9bd3a638aa327240cc7c85d6077f65cf03e31c7f14dca0696dc55c7a8152e377ec89a3138b65be561f3c0ae2a47ebedbda2489b571c'
  // signature: "0x" + "00".repeat(66),
  // };
  // 0x5975ae1338ea681b8e50b129c852477aa79b8a46ad2c20ac377295a419bc965b
  // 106,609, 133,315
  // const walletAddr = '0xe9d0BE36Ff8182a84a523C914aE9d7deC20e21Cb';
  // const metaTx = {
  // to: walletAddr,
  // nonce: 2701909583169,
  // gasToken: ethers.constants.AddressZero,
  // gasPrice: 0,
  // gasLimit: 170000,
  // gasOverhead: 80000,
  // feeRecipient: '0x0DFA9B2AB43B881430B6F52122618cC6B8F3a2c9',
  // requiresSuccess: true,
  // data: '0xa79c930c0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000065927e13000000000000000000000000e9d0be36ff8182a84a523c914ae9d7dec20e21cb0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000224dd2fde7f422db02b90bb5b972b056ca21820d000000000000000000000000f7410703db972ef5926a6f5514d3d87fbb697d490000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000041a41e580b78361e14a6ddffd4c609d8ed855f3e8985e6a554c3ffc4016091002e2e9e125ec328564dcb25bc30327e6c62af2a94434a3ef8bbb7a8227aa03d4e6f1b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041db32c71901fb54b12a781ddf894793ceb0f4df213cd3fa7d2226147dba201360455e30db4d3d1f8ad3fac418c94dd5ba4ce3a7910e1cc51fcb8a50fa633550321c00000000000000000000000000000000000000000000000000000000000000',
  // // signature: '0x5e1ee214a79c1f9032b11b7763a2aa4c768574d03b5b31a37f375343f06a0479534d5d0fcc5e6fff52e369553956571d416b7783f0d8268ed205f961d2eb95341c',
  // signature: "0x" + "00".repeat(66),
  // };
  // const smartWallet = await ethers.getContractAt("SmartWallet", walletAddr);
  // console.log(await smartWallet.wallet());

  // const gasUsed = await gasEstimator.callStatic.estimateGas(
  // walletAddr,
  // metaTx.to,
  // metaTx.nonce,
  // metaTx.gasToken,
  // metaTx.gasPrice,
  // metaTx.gasLimit,
  // metaTx.gasOverhead,
  // metaTx.feeRecipient,
  // metaTx.requiresSuccess,
  // metaTx.data,
  // metaTx.signature,
  // );
  // console.log(gasUsed)
}

main()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error(error);
    process.exit(1);
  });
